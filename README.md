# cosmic-bg

COSMIC session service which applies backgrounds to displays. Supports the following features:

- Supports any image format supported by [image-rs](https://github.com/image-rs/image#supported-image-formats)
- Use of colors and gradients for backgrounds
- Per-display background application
- Slideshow: alternate between backgrounds periodically

- 8-bit and 10-bit (HDR) backgrounds

## Compile & Install

The following system dependencies are also required to compile: `just libwayland-dev libxkbcommon-dev pkg-config`. The software is written in Rust, so `cargo rustc` are also required. Developers should install Rust from from https://rustup.rs/.

A release build can be generated by running `just`, and then installed with `sudo just install`. If packaging for Linux distribution, use the `rootdir` variable to change the root path, in addition to the prefix: `just rootdir=debian/cosmic-bg prefix=/usr install`.

## Debugging

To get debug logs from the service, first kill the `cosmic-bg` process a few times in a row to prevent it from being launched by `cosmic-session`. Then launch it with `env RUST_BACKTRACE=1 RUST_LOG=debug cosmic-bg` to display backtraces and debug logs in the terminal.

## License

Licensed under the [Mozilla Public License Version 2.0](https://choosealicense.com/licenses/mpl-2.0).

### Contribution

Any contribution intentionally submitted for inclusion in the work by you shall be licensed under the Mozilla Public License Version 2.0 (MPL-2.0). Each source file should have a SPDX copyright notice at the top of the file:

```
// SPDX-License-Identifier: MPL-2.0
```